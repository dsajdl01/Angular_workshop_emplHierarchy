<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js/controller/accountInfoControllerSpec.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">js/controller/</a> accountInfoControllerSpec.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>55/55</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>12/12</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">90.91% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>10/11</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>50/50</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">describe('Controller: accountInfoController', function() {
&nbsp;
	beforeEach(module('myMngtHierarchyApp'));
&nbsp;
	
	var ctrl, mockScope, mockCalculateTimeService, mockCommonNodeHeirarchyModel, mockMngtHierarchyProvider;
&nbsp;
	var selectedNode_1 = {
						"name": "Bob",
						"id": 101,
						"parentsId": 100,
						"child": [{
								"name": "David",
								"id": 106,
								"parentsId": 105,
								"child": []
							}]
						};
						
	var detailsNode_1 = {"id": 101, "dob": "28/02/1976","start": "10/02/2005","possition": "Senior Developer","comments": "Work with smile in our company."};
	var detailsNode_2 = {"id": 106, "dob": "20/10/1979","start": "10/02/2006","possition": "Juniot Developer","comments": "Concentrate on AngulaJS, Java and REST Full services."};
&nbsp;
	beforeEach(module(function($provide)
	{
		mockCalculateTimeService = {
			calculateDiffYearToCurrentDayFromFormatDay: function(dob){
				if(dob == "28/02/1976") return 40;
				else if (dob == "10/02/2005") return 5;
				else if (dob == "10/02/2006") return 4;
				else return 37;
			},
			calculateDiffDaysToCurrentDayFromFormatDayAndYear: function(startWorkingDay, yearsWorking){
				if(startWorkingDay == "10/02/2005" &amp;&amp; yearsWorking == 5) return 63;
				else return 105;
			}
		};
&nbsp;
		mockCommonNodeHeirarchyModel = {
			selectedTopNode: <span class="fstat-no" title="function not covered" >function(){</span>}
		}; 
&nbsp;
		mockMngtHierarchyProvider = {
			getSelectedNodeDetails: function(getselectedNode){
				if(getselectedNode == 101) return detailsNode_1;
				else return detailsNode_2;
			}
		};
&nbsp;
		mockScope = {
            $watch : function(watchExpression) {
            	watchExpressionFunction = watchExpression;
            }
        }
&nbsp;
		$provide.value('calculateTimeService', mockCalculateTimeService);
		$provide.value('commonNodeHeirarchyModel', mockCommonNodeHeirarchyModel);
		$provide.value('mngtHierarchyNodeServiceProvider', mockMngtHierarchyProvider);
		$provide.value("$scope", mockScope);
	}));
&nbsp;
	beforeEach(inject(function($controller)
	{
		spyOn(mockScope, '$watch').and.callThrough();
        ctrl = $controller('accountInfoController');
        expect(mockScope.$watch).toHaveBeenCalledWith(jasmine.any(Function));
    }));
&nbsp;
    it('should be defined - Controller', function()
    {
        expect(ctrl).toBeDefined();
    });
&nbsp;
    it('should watch initilalize instance variables when any nodes is changed', function(){
    	mockCommonNodeHeirarchyModel.selectedTopNode = selectedNode_1;
    	var watchObject =  watchExpressionFunction();
    	
    	expect(ctrl.possition).toEqual("Senior Developer");
    	expect(ctrl.dob).toEqual("28/02/1976");
    	expect(ctrl.age).toEqual(40);
    	expect(ctrl.startWorkingDay).toEqual("10/02/2005");
    	expect(ctrl.comments).toEqual("Work with smile in our company.");
    	expect(ctrl.yearsWorking).toEqual(5);
    	expect(ctrl.daysWorking).toEqual(63);
    });
&nbsp;
    it('should change instance variables when new node is selected', function(){
    	mockCommonNodeHeirarchyModel.selectedTopNode = selectedNode_1.child[0];
    	var watchObject =  watchExpressionFunction();
    	
    	expect(ctrl.possition).toEqual("Juniot Developer");
    	expect(ctrl.dob).toEqual("20/10/1979");
    	expect(ctrl.age).toEqual(37);
    	expect(ctrl.startWorkingDay).toEqual("10/02/2006");
    	expect(ctrl.comments).toEqual("Concentrate on AngulaJS, Java and REST Full services.");
    	expect(ctrl.yearsWorking).toEqual(4);
    	expect(ctrl.daysWorking).toEqual(105);
    })
&nbsp;
});</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sun Jun 26 2016 22:20:10 GMT+0100 (BST)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
